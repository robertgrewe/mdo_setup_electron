<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>FormWizard_v8</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="colorlib.com">

	<!-- MATERIAL DESIGN ICONIC FONT -->
	<link rel="stylesheet" href="fonts/material-design-iconic-font/css/material-design-iconic-font.css">

	<!-- DATE-PICKER -->
	<link rel="styleshfeet" href="vendor/date-picker/css/datepicker.min.css">

	<!-- Awesome font -->
	<script src="https://kit.fontawesome.com/b2c35eef8d.js" crossorigin="anonymous"></script>

	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"> -->

	<!-- STYLE CSS -->
	<link rel="stylesheet" href="css/style.css">

	<!-- see https://jsfiddle.net/njyrmdo6 -->
	<link rel="stylesheet" href="css/slider.css">

	<!-- STYLE CSS -->
	<link rel="stylesheet" href="css/steps.css">

	<!-- jQuery (Should be declared before other JS imports) -->
	<script>
		var $ = jQuery = require("jquery")
	</script>

</head>
<body>

	<div class="wrapper">
		<form action="" id="wizard">

			<!-- Circles which indicates the steps of the form: -->
			<div style="text-align:center; padding-top: 20px; padding-bottom: 40px">
				<span class="step_circles active"></span>
				<span class="step_circles"></span>
				<span class="step_circles"></span>
				<span class="step_circles"></span>
				<span class="step_circles"></span>
			</div>

			<!-- SECTION 0 -->
			<h4></h4>
			<section>
				<h3>Working directory</h3>

				<!-- <div class="form-holder">
					<div class="form-row">
						<i class="fas fa-folder-open"></i>
						<input type="text" class="form-control" id="choose-dir" placeholder="Choose directory" width=100 align=right>
					</div>
				</div> -->

				<!-- textbox with browse button-->
				<div class="input-group mb-3" id=' + discipline_id + '>
					<input type="text" class="form-control" id="input-work-dir" placeholder="Choose directory">
					<div class="input-group-append">
						<button class="btn btn-outline-secondary" id="choose-dir" type="button">Browse</button>
					</div>
				</div>

			</section>

			<!-- SECTION 0 -->
			<h4></h4>
			<section>
				<h3>Optimizer</h3>

				<div class="form-row">

					<div class="div0-logo">
						<div class="img-thumbnail div-logo">
							<img class="img-logo selected" src="images/Heeds_logo.png" alt="...">
						</div>
					</div>

					<div class="div0-logo">
						<div class="img-thumbnail div-logo">
							<img class="img-logo" src="images/AutoOpti_logo.png" alt="...">
						</div>
					</div>

				</div>

			</section>

			<!-- SECTION 0 -->
			<h4></h4>
			<section>
				<h3>Turbine Row</h3>

				<div class="form-row" style="display: block">
					<div style="font-size: 30px; padding-left: 20px ; padding-right: 20px; text-align: center">
						<i class="fas fa-chevron-up fa-lg chevron" id="arrow_upp"></i>
					</div>
				</div>

				<div class="form-row" style="display: block">
					<div style="font-size: 30px; text-align: center">
						<p class="row-name-box" id="row">R1</p>
					</div>
				</div>

				<div class="form-row" style="display: block">
					<div style="font-size: 30px; padding-left: 20px ; padding-right: 20px; text-align: center">
						<i class="fas fa-chevron-down fa-lg chevron" id="arrow_down"></i>
					</div>
				</div>

			</section>

			<!-- SECTION 0 -->
			<h4></h4>
			<section>
				<h3>Disciplines</h3>

				<div class="form-row" id="container_disciplines">
				</div>

			</section>

			<!-- SECTION 0 -->
			<h4></h4>
			<section>
				<h3>Setup finished!</h3>

				<div class="icon-box" style="text-align: center; padding: 40px">
					<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
					<i class="material-icons" style="font-size: 60px;">&#xE876;</i>
				</div>

				<div style="display: grid; justify-content: center;">
					<div class="form-row">
						<p style="padding: 40px">
							<a href="#" class="btn btn-my"><span class="fas fa-terminal" style="padding-right: 10px;"></span>Open in Terminal</a>
						</p>

						<p style="padding: 40px">
							<a href="#" class="btn btn-my"><span class="fas fa-rocket" style="padding-right: 10px;"></span> Open in HEEDs</a>
						</p>
					</div>
				</div>

			</section>

		</form>
	</div>

	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/jquery.steps.js"></script>
	<script src="js/main.js"></script>

	<script>

	// electron browser
	// see https://github.com/paul7337/Electron-Get-Folder-Path/blob/master/main.js
	document.addEventListener('DOMContentLoaded', function () {
		document.getElementById('choose-dir').addEventListener('click', function () {
			openFile();
		});
	});

	const {ipcRenderer} = require('electron');

	function openFile() {
		ipcRenderer.send('openFolder', () => {
			console.log("Event sent.");
		});
	}

	ipcRenderer.on('folderData', (event, data) => {
		console.log(data)
		document.getElementById('input-work-dir').value = data[0]

		var filename_config = 'config.yml'
		var content = document.getElementById('input-work-dir').value = data[0]
		writeToFile(filename_config, content)

	})

	// write data to file
	function writeToFile(filename, content){
		var fs = require('fs');
		fs.writeFile(filename, content, function (err) {
			if (err) throw err;
			console.log('Replaced!');
		});
	}

	</script>

	<!-- Template created and distributed by Colorlib -->
</body>
</html>
